<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Grade Goal Calculator — Pro</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
  <link href="/css/styles.css" rel="stylesheet"/>
  <link href="/css/marks.css" rel="stylesheet"/>
</head>
<body>
  <div class="aurora"></div>

  <div id="site-header-placeholder"></div>

  <main class="container pb-5 pt-5">
    <div class="row g-4 align-items-stretch">
      <!-- LEFT: Setup -->
      <section class="col-12 col-lg-7 reveal">
        <div class="glass tilt p-4 p-md-5 h-100">
          <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3">
            <h2 class="h3 mb-0"><i class="bi bi-sliders2 text-info me-2"></i>Setup</h2>
          </div>

          <!-- Goal Grade -->
          <div class="row g-3 mb-4">
            <div class="col-12">
              <label class="form-label fw-medium mb-3 d-flex align-items-center">
                <i class="bi bi-bullseye me-2 text-info"></i>Target Grade
              </label>
              <select class="form-select" id="goalGrade" aria-label="Goal grade">
                <option value="A+">A+</option>
                <option value="A" selected>A</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B">B</option>
                <option value="B-">B-</option>
                <option value="C+">C+</option>
                <option value="C">C</option>
                <option value="F">F</option>
              </select>
            </div>
          </div>

          <!-- Ratio -->
          <div class="row g-3 mb-2 mt-2">
            <div class="col-12 d-flex align-items-center justify-content-between flex-wrap gap-2">
              <label class="form-label fw-medium mb-0 d-flex align-items-center">
                <i class="bi bi-percent me-2 text-info"></i>Assessment Ratio (%)
              </label>
              <div class="d-flex align-items-center gap-2">
                <label class="small muted mb-0">Preset:</label>
                <select class="form-select form-select-sm" id="coursePreset" aria-label="Course preset" style="min-width: 260px;">
                  <option value="" selected>Custom</option>
                  <option value="SRE">SOFTWARE REQUIREMENTS ENGINEERING</option>
                  <option value="SDA">SOFTWARE DESIGN AND ARCHITECTURE</option>
                  <option value="WIS">WEB-BASED INTEGRATED SYSTEMS</option>
                </select>
              </div>
            </div>

            <div class="col-12 col-md-4">
              <label class="small fw-medium mb-2 d-flex align-items-center">
                <i class="bi bi-clipboard-check me-1 text-warning"></i>Midterm
              </label>
              <div class="d-flex gap-2">
                <input type="text" inputmode="decimal" class="form-control" id="wMid" placeholder="Type" aria-label="Midterm weight (percent)" />
              </div>
            </div>
            <div class="col-12 col-md-4">
              <label class="small fw-medium mb-2 d-flex align-items-center">
                <i class="bi bi-journal-text me-1 text-success"></i>Assignment
              </label>
              <div class="d-flex gap-2">
                <input type="text" inputmode="decimal" class="form-control" id="wAss" placeholder="Type" aria-label="Assignment weight (percent)" />
              </div>
            </div>
            <div class="col-12 col-md-4">
              <label class="small fw-medium mb-2 d-flex align-items-center">
                <i class="bi bi-pencil-square me-1 text-danger"></i>Final
              </label>
              <div class="d-flex gap-2">
                <input type="text" inputmode="decimal" class="form-control" id="wFin" placeholder="Type" aria-label="Final weight (percent)" />
              </div>
            </div>
          </div>

          <!-- Weight validation -->
          <div class="mt-3" id="weightValidation">
            <div class="progress mb-2">
              <div class="progress-bar" id="weightProgress" role="progressbar" style="width: 0%"></div>
            </div>
            <div class="d-flex justify-content-between small">
              <span>Total weights:</span>
              <span id="weightTotal">0%</span>
            </div>
          </div>

        </div>
      </section>

      <!-- RIGHT: Calculator -->
      <aside class="col-12 col-lg-5 reveal">
        <div class="glass tilt p-4 p-md-5 h-100" id="resultCard" aria-live="polite">
          <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3">
            <h2 class="h3 mb-0"><i class="bi bi-graph-up-arrow text-info me-2"></i>Calculate Results</h2>
          </div>

          <div class="row g-0 mt-1">
              <!-- Marks -->
            <div class="row g-0" id="marksRow">
              <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-2">
                <label class="form-label fw-medium mb-0 d-flex align-items-center">
                  <i class="bi bi-graph-up me-2 text-info"></i>Your Marks
                </label>
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" role="switch" id="marksModeToggle">
                  <label class="form-check-label small muted" for="marksModeToggle">Separate Coursework Marks</label>
                </div>
              </div>

              <div class="row g-0 mt-3">
                <!-- Coursework (100%) when NOT in individual mode -->
                <div class="col-12" id="courseworkWrap">
                  <div class="small fw-medium mb-1">Coursework Mark (?/100)</div>
                  <input type="text" inputmode="decimal" class="form-control" id="mCoursework" placeholder="Coursework mark"/>
                </div>
                <!-- Midterm + Assignment (50/50) in individual mode -->
                <div class="col-12 col-md-6 individual-marks" id="midWrap" style="display:none;">
                  <div class="small fw-medium mb-1">Midterm Mark (?/100)</div>
                  <input type="text" inputmode="decimal" class="form-control" id="mMid" placeholder="Midterm mark"/>
                </div>
                <div class="col-12 col-md-6 individual-marks" id="assWrap" style="display:none;">
                  <div class="small fw-medium mb-1">Assignment Mark (?/100)</div>
                  <input type="text" inputmode="decimal" class="form-control" id="mAss" placeholder="Assignment mark"/>
                </div>
              </div>
            </div>

            <!-- Required final -->
            <div class="col-12 mt-5 g-0">
              <div class="need-card" id="needCard">
                <div class="need-inner">
                  <div class="d-flex align-items-center justify-content-between">
                    <div class="d-flex align-items-center gap-3">
                      <div class="grade-indicator bg-info text-dark">
                        <i class="bi bi-bullseye"></i>
                      </div>
                      <div>
                        <div class="small muted">Required Final Score: </div>
                      </div>
                    </div>
                    <div class="text-end">
                      <div class="need-number text-info" id="needFinal">—</div>
                      <div class="mini-progress mt-2" aria-hidden="true">
                        <div class="bar" id="needBar" style="width:0%"></div>
                      </div>
                    </div>
                  </div>
                  <div class="d-flex align-items-center justify-content-between mt-2">
                    <small class="text-muted" id="needNote">Enter your marks and weights to see results.</small>
                    <span class="badge rounded-pill status-badge" id="statusChip">Waiting for input</span>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </aside>
    </div>
  </main>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/include-header.js" defer></script>
  <script src="/js/marks.js"></script>

  <script ></script>
</body>
</html>
