<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CGPA Calculator</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/>
  <link href="/css/styles.css" rel="stylesheet"/>
  <link href="/css/cgpa.css" rel="stylesheet"/>
</head>
<body>
  <div class="aurora"></div>
  <div id="site-header-placeholder"></div>

  <main class="container pb-5 pt-5">
    <div class="row g-4 align-items-start">
      <section class="col-12 col-lg-8">
        <div class="glass p-5 reveal">
          <div id="cgpaAlert"></div>
          <div class="d-flex align-items-center justify-content-between mb-3">
            <h2 class="h4 mb-0">CGPA Calculator</h2>
          </div>

          <div class="row g-3 align-items-center mb-3">
            <div class="col-12 col-md-5">
              <label for="courseSel" class="form-label small mb-1" id="courseLabel">Course</label>
              <select id="courseSel" class="form-select" aria-labelledby="courseLabel" disabled></select>
            </div>
            <div class="col-6 col-md-3">
              <label for="yearSel" class="form-label small mb-1" id="yearLabel">Year</label>
              <select id="yearSel" class="form-select" aria-labelledby="yearLabel" disabled></select>
            </div>
            <div class="col-6 col-md-4">
              <label for="semSel" class="form-label small mb-1" id="semLabel">Semester</label>
              <select id="semSel" class="form-select" aria-labelledby="semLabel" disabled></select>
            </div>
          </div>

          <div id="subjectsWrap" class="mt-3">
            <div class="muted mb-2">Subjects for selected term</div>
            <div class="table-responsive">
              <table class="table table-dark table-striped align-middle" id="subjectsTable">
                <thead>
                  <tr>
                    <th>Code</th>
                    <th>Title</th>
                    <th class="text-center">Credits</th>
                    <th class="text-center">Grade</th>
                    <th class="text-center">Marks</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            <div id="noSubjects" class="small-note mt-2" hidden>No subjects available for this selection.</div>
          </div>

          <div class="d-flex justify-content-between gap-2 mt-3 align-items-center">
            <div class="d-flex">
              <button id="clearBtn" class="btn btn-outline-light" disabled aria-disabled="true">Clear</button>
            </div>
            <div class="d-flex">
              <button id="saveBtn" class="btn btn-primary d-flex align-items-center" disabled aria-disabled="true"><i class="bi bi-save me-2" aria-hidden="true"></i>Save Semester</button>
            </div>
          </div>
        </div>
      </section>

      <aside class="col-12 col-lg-4">
        <div class="glass p-4 reveal mb-3 summary-section">
          <h3 class="h6 mb-2">Semester GPA</h3>
          <div class="display-6 fw-bold" id="gpaDisplay" role="status" aria-live="polite" aria-atomic="true">—</div>
          <div class="muted small mt-2" id="gpaNote">Enter grades or marks to compute semester GPA.</div>
        </div>

        <div class="glass p-4 reveal summary-section">
          <h3 class="h6 mb-2">CGPA</h3>
          <div class="display-6 fw-bold" id="cgpaDisplay" role="status" aria-live="polite" aria-atomic="true">—</div>
          <div class="muted small mt-1" id="cgpaNote">CGPA: includes saved semesters and the current editing semester.</div>
        </div>
      </aside>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/include-header.js" defer></script>
  <script src="/js/cgpa.js" defer></script>
</body>
</html>